{"version":3,"sources":["_formAddLink.js","_formDeleteLink.js","trick_add.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["function addFormLink($collectionHolder, $newLinkLi) {\n    // Get the data-prototype explained earlier\n    var prototype = $collectionHolder.data('prototype');\n\n    // get the new index\n    var index = $collectionHolder.data('index');\n\n    var newForm = prototype;\n    // You need this only if you didn't set 'label' => false in your tags field in TaskType\n    // Replace '__name__label__' in the prototype's HTML to\n    // instead be a number based on how many items we have\n    // newForm = newForm.replace(/__name__label__/g, index);\n\n    // Replace '__name__' in the prototype's HTML to\n    // instead be a number based on how many items we have\n    newForm = newForm.replace(/__name__/g, index);\n\n    // increase the index with one for the next item\n    $collectionHolder.data('index', index + 1);\n\n    // Display the form in the page in an li, before the \"Add a tag\" link li\n    var $newFormLi = $('<li></li>').append(newForm);\n    addImgFormDeleteLink($newFormLi);\n    $newLinkLi.before($newFormLi);\n}\n","function addImgFormDeleteLink($tagFormLi) {\n    var $removeFormA = $('<a href=\"#\">delete this tag</a>');\n    $tagFormLi.append($removeFormA);\n\n    $removeFormA.on('click', function(e) {\n        // prevent the link from creating a \"#\" on the URL\n        e.preventDefault();\n\n        // remove the li for the tag form\n        $tagFormLi.remove();\n    });\n}","var $collectionHolder;\n\n// setup an \"add a tag\" link\nvar $addTagLink = $('<a href=\"#\" class=\"add_img_link\">Add a tag</a>');\nvar $newLinkLi = $('<li></li>').append($addTagLink);\n\njQuery(document).ready(function() {\n    // Get the ul that holds the collection of tags\n    $collectionHolder = $('ul.imgs');\n\n    // add the \"add a tag\" anchor and li to the tags ul\n    $collectionHolder.append($newLinkLi);\n\n    // count the current form inputs we have (e.g. 2), use that as the new\n    // index when inserting a new item (e.g. 2)\n    $collectionHolder.data('index', $collectionHolder.find(':input').length);\n\n    $addTagLink.on('click', function(e) {\n        // prevent the link from creating a \"#\" on the URL\n        e.preventDefault();\n\n        // add a new tag form (see next code block)\n        addImgForm($collectionHolder, $newLinkLi);\n    });\n});\n"]}